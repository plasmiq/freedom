<!DOCTYPE html>
<html class="pq-freedom">
  <head>
    <title>Freedom</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" type="text/css" href="vendor/css/prism.css" />
    <link rel="stylesheet/less" type="text/css" href="src/freedom.less" />
    <script src="vendor/javascripts/less-1.5.0.min.js" type="text/javascript"></script>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.css">
  </head>
  <body class="language-markup">
    <div>

      <menu class="pq-menu">
        <div class="left">
          <h1><a href="/">freedom</a></h1>
        </div>
        <div class="center">
          <a href="README.md" class="active">about</a>
          <a href="docs/layout.md" class="">Layout</a>
          <a href="docs/buttons.md" class="">Buttons</a>
        </div>
        <div class="right">
          <a href="/">menu</a>
        </div>
      </menu>

      <div class="pq-content">
      </div>

      <footer class="pq-footer">
        <a href="http://plasmiq.com">About</a>
        <a href="http://plasmiq.com">Feedback</a>
        <a class="right" href="http://plasmiq.com">Powered by Plasmiq</a>
      </footer>
    </div>

    <script src="vendor/javascripts/zepto.js"></script>
    <script src="vendor/javascripts/prism.js" data-manual></script>
    <script src="vendor/javascripts/showdown.js"></script>
    <script src="freedom.js"></script>
    <script>
      function activateMenuItem(location) {
        $("menu .center a").removeClass("active");
        $("menu .center a[href='"+location+"']").addClass("active")
      };
      function localLinkHandler(e) {
        e.preventDefault();

        var location = $(this).attr("href");
        if(location === "/") {
          location = "README.md";
        };
        loadMdDocument(location);
        activateMenuItem(location);
        return false;
      }

      $(".pq-content").on("click", "a", localLinkHandler);
      $("menu a").on("click", localLinkHandler);

      function loadMdDocument(filename) {
        $.ajax({
          type: 'GET',
          url: filename,
          dataType: "markdown",
          success: function(data){
            var converter = new Showdown.converter();
            var output = converter.makeHtml(data);
            var content = $(".pq-content");
            content.html(output);


            Prism.highlightAll()
            $(document).freedom();
          }
        });
      };
      loadMdDocument('README.md');
    </script>
  </body>
</html>